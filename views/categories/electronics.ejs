
<main class="category-container">
  <%- include('../layout/header') %>
  <link rel="stylesheet" href="/css/modern.css" />

  <h1>Electronics</h1>

  <% if (products && products.length > 0) { %>
    <div class="product-grid">
      <% products.forEach(product => { %>
        <div class="product-card">
          <img src="<%= (product.images && product.images[0]) ? product.images[0] : '/images/default.jpg' %>" alt="<%= product.name %>" />
          <div class="product-body">
            <h2 class="product-title"><%= product.name %></h2>
            <p class="product-desc"><%= product.description %></p>
            <p class="product-price">â‚¹<%= product.price %></p>

            <form action="/cart/add" method="POST" class="product-action">
              <input type="hidden" name="productId" value="<%= product._id %>" />
              <button type="submit" class="btn btn-primary">Add to Cart</button>
            </form>

            <form action="/wishlist/add" method="POST" class="product-action">
              <input type="hidden" name="productId" value="<%= product._id %>" />
              <button type="submit" class="btn btn-wishlist">Add to Wishlist</button>
            </form>

            <div class="stock-info">Stock left: <%= product.stockCount || product.stock || 0 %></div>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <p>No products found in this category</p>
  <% } %>
</main>
