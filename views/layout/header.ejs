<header class="site-header-amazon">
  <link rel="stylesheet" href="/css/header.css" />
  <link rel="stylesheet" href="/css/modern.css" />
  <div class="top-row" style="display:flex;align-items:center;gap:16px;">
    <a href="/" style="display:flex;align-items:center;gap:10px;text-decoration:none;">
  <img src="/images/logo.png" alt="Logo" style="height:100px;width:auto;vertical-align:middle;" />
      <span class="site-name">DailyShop</span>
    </a>
    <div class="location">
      Delivering to <br> <%= location || "your location" %>
    </div>
    <form class="search-bar" action="/search" method="GET">
      <select class="search-select" name="category">
        <option value="all">All</option>
        <option value="mobiles">Mobiles</option>
        <option value="books">Books</option>
        <option value="clothes">Clothes</option>
        <option value="electronics">Electronics</option>
        <option value="kitchen">Kitchen Items</option>
        <option value="medicines">Medicines</option>
        <option value="home_needs">Home Needs</option>
        <option value="stationery">Stationery</option>
        <option value="furniture">Furniture</option>
        <option value="groceries">Groceries</option>

        <!-- Add more categories as needed -->
      </select>
      <input type="search" name="q" placeholder="Search DailyShop" required />
      <button type="submit"><span>üîç</span></button>
    </form>
    <div class="header-right">
      <% if (user) { %>
        <a href="/profile" class="user-profile-link">
          <% if (user.avatarUrl) { %>
            <img src="<%= user.avatarUrl %>" alt="User Avatar" class="user-avatar" />
          <% } else { %>
            <img src="/images/default-avatar.png" alt="Default Avatar" class="user-avatar" />
          <% } %>
          Hello, <%= user.name %>
        </a>
        <div class="account-menu">
    <span class="account-title">Account</span>
    <ul class="account-links">
      <li><a href="/auth/login">Login</a></li>
      <li><a href="/profile">Profile</a></li>
      <li><a href="/cart">Cart</a></li>
      <li><a href="/orders">Orders</a></li>
      <li><a href="/auth/logout">Logout</a></li>
    </ul>
        </div>
      <% } else { %>
        <div class="user-menu" id="userMenu">
          <a href="/auth/account" class="account-label">Hello, sign in</a>
        </div>
      <% } %>
  <button class="btn-back" id="btn-back" type="button">&#8592; Back</button>
  <a class="btn-back" href="/">Home</a>
    </div>
  </div>
</header>
    <script src="/js/animations.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var backBtn = document.getElementById('btn-back');
        if (backBtn) {
          backBtn.addEventListener('click', function() {
            if (window.history.length > 1) {
              window.history.back();
            } else {
              window.location.href = '/';
            }
          });
        }
      });
    </script>
  <!-- Removed extra JS: now uses only inline onclick for reliability -->
</header>




<style>

</style>





<script>
  document.addEventListener('DOMContentLoaded', () => {
    const userMenu = document.getElementById('userMenu');
    const toggle = document.getElementById('accountToggle');

    if (toggle && userMenu) {
      toggle.addEventListener('click', (event) => {
        event.preventDefault();
        userMenu.classList.toggle('open');
      });

      document.addEventListener('click', (event) => {
        if (!userMenu.contains(event.target)) {
          userMenu.classList.remove('open');
        }
      });
    }
  });
</script>